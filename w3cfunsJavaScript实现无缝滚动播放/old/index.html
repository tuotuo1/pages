<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>q125759748,时生,Crow</title>
<style>
#byJQuery, #byJavaScript {
	margin: 40px auto;
	overflow: hidden;
	height: 180px;
	width: 200px;
}
ul {
	list-style: none;
	padding: 0;
	margin: 0;
}
li {
	height: 30px;
	line-height: 30px;
	border-bottom: 1px dashed #666;
}
</style>
</head>
<body>
<div id="byJavaScript">
  <ul>
    <li>今天你练习了吗？</li>
    <li>JavaScript</li>
    <li>jQuery</li>
    <li>xHTML+CSS</li>
    <li>HTML5+CSS3</li>
    <li>By 时生</li>
  </ul>
</div>
<div id="byJQuery">
  <ul>
    <li>今天你练习了吗？</li>
    <li>JavaScript</li>
    <li>jQuery</li>
    <li>xHTML+CSS</li>
    <li>HTML5+CSS3</li>
    <li>By 时生</li>
  </ul>
</div>
<script src="js/jquery.js"></script> 
<script>
$(function(){
	var $ul = $("#byJQuery ul");
	var scrollHeight = $ul.height();
	var html = $ul.html();
	$ul.html(html+html);	//复制一份内容，避免出现内容缺失
	(function jQ_scroll(){
		$ul.css("marginTop",0);//marginTop设置为0
		//执行动画，参数1. li高度*数量  2.时间  3.设置为平稳效果 4.动画执行完调用本身外部函数
		$ul.animate({"marginTop":-scrollHeight+"px"},3000,'linear',function(){
				jQ_scroll();
		})
	})()//直接调用
})

window.onload= function(){
	
	
	function jScroll(){
	}
	jScroll.move=function(id){
			jScroll._ul=document.getElementById(id).getElementsByTagName("ul")[0];//获取UL节点
			jScroll.scrollHeightByJs =jScroll._ul.offsetHeight;//获取滚动高度
			jScroll.startHeight = 0;	//开始高度
			jScroll._ul.innerHTML+=jScroll._ul.innerHTML;	//复制一份内容，避免出现内容缺失
			if(jScroll.timer)clearInterval(jScroll.timer);
			timer = setInterval(function(){
				jScroll.startMove();	//开始，“滚”
			},30)
		};
	jScroll.startMove =function(){
			var iSpeed = jScroll.scrollHeightByJs * 0.01;	//设置一个匀速
			iSpeed = iSpeed > 0 ? Math.ceil(iSpeed) : Math.floor(iSpeed);
			jScroll.startHeight >= jScroll.scrollHeightByJs ? (jScroll.startHeight = 0) : 
			(
			jScroll.startHeight += iSpeed ,	//marginTop的值
			jScroll._ul.style.marginTop = - jScroll.startHeight + 'px'	//设置marginTop的值
			);
		};
	jScroll.move("byJavaScript");//开始滚动
	/*  求大神指点，这种方式不会做。
	var jScroll = {
		ul:document.getElementById("byJavaScript"),
		scrollHeightByJs : function(){return jScroll.ul.offsetHeight},
		startHeight : 0,
		timer:0,
		move:function(){
			alert(jScroll.scrollHeightByJs)
			if(timer)clearInterval(timer);
			timer = (setInterval(function(){
				this.startMove();	
			},30))(this)
		},
		startMove :function(){
			var iSpeed = (scrollHeightByJs - startHeight) / 8;
			iSpeed = iSpeed > 0 ? Math.ceil(iSpeed) : Math.floor(iSpeed);
			startHeight == 0 ? (startHeight = 0) : 
			(
			startHeight += iSpeed ,
			_ul.style.marginTop = - startHeight + 'px'
			);
		}
	}
	*/
}
</script>
</body>
</html>
